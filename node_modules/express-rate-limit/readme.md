<h1 align="center"> <code>express-rate-limit</code> </h1>

<div align="center">

[![tests](https:
[![npm version](https:
[![npm downloads](https:
[![license](https:

</div>

Basic rate-limiting middleware for [Express](http:
limit repeated requests to public APIs and/or endpoints such as password reset.
Plays nice with
[express-slow-down](https:
[ratelimit-header-parser](https:

## Usage

The [full documentation](https:
available on-line.

```ts
import { rateLimit } from 'express-rate-limit'

const limiter = rateLimit({
	windowMs: 15 * 60 * 1000, 
	limit: 100, 
	standardHeaders: 'draft-8', 
	legacyHeaders: false, 
	ipv6Subnet: 56, 
	
})


app.use(limiter)
```

### Data Stores

The rate limiter comes with a built-in memory store, and supports a variety of
[external data stores](https:

### Configuration

All function options may be async. Click the name for additional info and
default values.

| Option                     | Type                                      | Remarks                                                                                         |
| -------------------------- | ----------------------------------------- | ----------------------------------------------------------------------------------------------- |
| [`windowMs`]               | `number`                                  | How long to remember requests for, in milliseconds.                                             |
| [`limit`]                  | `number` \| `function`                    | How many requests to allow.                                                                     |
| [`message`]                | `string` \| `json` \| `function`          | Response to return after limit is reached.                                                      |
| [`statusCode`]             | `number`                                  | HTTP status code after limit is reached (default is 429).                                       |
| [`handler`]                | `function`                                | Function to run after limit is reached (overrides `message` and `statusCode` settings, if set). |
| [`legacyHeaders`]          | `boolean`                                 | Enable the `X-Rate-Limit` header.                                                               |
| [`standardHeaders`]        | `'draft-6'` \| `'draft-7'` \| `'draft-8'` | Enable the `Ratelimit` header.                                                                  |
| [`identifier`]             | `string` \| `function`                    | Name associated with the quota policy enforced by this rate limiter.                            |
| [`store`]                  | `Store`                                   | Use a custom store to share hit counts across multiple nodes.                                   |
| [`passOnStoreError`]       | `boolean`                                 | Allow (`true`) or block (`false`, default) traffic if the store becomes unavailable.            |
| [`keyGenerator`]           | `function`                                | Identify users (defaults to IP address).                                                        |
| [`ipv6Subnet`]             | `number` (32-64) \| `function` \| `false` | How many bits of IPv6 addresses to use in default `keyGenerator`                                |
| [`requestPropertyName`]    | `string`                                  | Add rate limit info to the `req` object.                                                        |
| [`skip`]                   | `function`                                | Return `true` to bypass the limiter for the given request.                                      |
| [`skipSuccessfulRequests`] | `boolean`                                 | Uncount 1xx/2xx/3xx responses.                                                                  |
| [`skipFailedRequests`]     | `boolean`                                 | Uncount 4xx/5xx responses.                                                                      |
| [`requestWasSuccessful`]   | `function`                                | Used by `skipSuccessfulRequests` and `skipFailedRequests`.                                      |
| [`validate`]               | `boolean` \| `object`                     | Enable or disable built-in validation checks.                                                   |

## Thank You

Sponsored by [Zuplo](https:
Gateway for developers. Add
[dynamic rate-limiting](https:
authentication and more to any API in minutes. Learn more at
[zuplo.com](https:

<p align="center">
<a href="https:
<picture width="322">
  <source media="(prefers-color-scheme: dark)" srcset="https:
  <img alt="zuplo-logo" src="https:
</picture>
</a>
</p>

---

Thanks to Mintlify for hosting the documentation at
[express-rate-limit.mintlify.app](https:

<p align="center">
	<a href="https:
		<img height="75" src="https:
	</a>
</p>

---

Finally, thank you to everyone who's contributed to this project in any way! 

## Issues and Contributing

If you encounter a bug or want to see something added/changed, please go ahead
and
[open an issue](https:
If you need help with something, feel free to
[start a discussion](https:

If you wish to contribute to the library, thanks! First, please read
[the contributing guide](https:
Then you can pick up any issue and fix/implement it!

## License

MIT Â© [Nathan Friedly](http:
[Vedant K](https:

[`windowMs`]:
	https:
[`limit`]: https:
[`message`]:
	https:
[`statusCode`]:
	https:
[`handler`]:
	https:
[`legacyHeaders`]:
	https:
[`standardHeaders`]:
	https:
[`identifier`]:
	https:
[`store`]: https:
[`passOnStoreError`]:
	https:
[`keyGenerator`]:
	https:
[`ipv6Subnet`]:
	https:
[`requestPropertyName`]:
	https:
[`skip`]: https:
[`skipSuccessfulRequests`]:
	https:
[`skipFailedRequests`]:
	https:
[`requestWasSuccessful`]:
	https:
[`validate`]:
	https:
